<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="utf-8" />
    <title>Task 0</title>
    <script
            src="https://code.jquery.com/jquery-3.6.4.slim.min.js"
            integrity="sha256-a2yjHM4jnF9f54xUQakjZGaqYs/V1CYvWpoqZzC2/Bw="
            crossorigin="anonymous">
    </script>
</head>

<body>
    <script type="application/javascript">
        function createFamilyTree() {
            $("body").append(
                $("<table>").append(
                    $("<thead>").append(
                        $("<th>").text("Firstname"),
                        $("<th>").text("Lastname")
                    ),
                    $("<tbody>").append()
                )
            );
        }

        function addNewMember(firstName, lastName, position) {
            let newMember = $("<tr>").append(
                $("<td>").text(firstName),
                $("<td>").text(lastName),
                $("<td>").text("(x)").click(() => {
                    newMember.remove();
                }).css('background', 'orange')
            );

            if (position === 'before')
                $("tbody").prepend(newMember);
            else
                $("tbody").append(newMember);
        }

        function createForm() {
            $("table").before(
                $("<input>").attr("type", "text"),
                $("<input>").attr("type", "text"),
                $('<select>').append(
                    $("<option>").attr('value', 'before').text('Before'),
                    $("<option>").attr('value', 'after').text('After')
                ),
                $('<input>').attr('type', 'submit').click(() => {
                    addNewMember($("input[type='text']").first().val(), 
                        $("input[type='text']:nth-of-type(2)").val(), 
                        $("select").val()
                    );
                })
            );
        }

        createFamilyTree();
        createForm();

    </script>
</body>
</html>
